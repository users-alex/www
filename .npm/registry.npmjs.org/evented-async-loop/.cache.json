{"_id":"evented-async-loop","_rev":"4-8da95403e62a4b6877605b4e7174ffbf","name":"evented-async-loop","description":"Loop through asynchronous code with events","dist-tags":{"latest":"0.1.1"},"versions":{"0.1.0":{"name":"evented-async-loop","version":"0.1.0","description":"Loop through asynchronous code with events","main":"index.js","scripts":{"test":"node node_modules/mocha/bin/mocha"},"repository":{"type":"git","url":"https://J-Chaniotis@github.com/J-Chaniotis/evented-async-loop.git"},"keywords":["async","loop","event","control","flow","sequence"],"author":{"name":"J.Chaniotis","email":"j.k.chaniotis@gmail.com"},"license":"ISC","bugs":{"url":"https://github.com/J-Chaniotis/evented-async-loop/issues"},"homepage":"https://github.com/J-Chaniotis/evented-async-loop","dependencies":{"chai":"^1.9.1","mocha":"^1.21.4"},"gitHead":"e772b64bd2a4e2e469904aa22cd230492e087f62","_id":"evented-async-loop@0.1.0","_shasum":"d7442ebc24951c9f02137a77939ce4d592696143","_from":".","_npmVersion":"1.4.24","_npmUser":{"name":"j.chaniotis","email":"j.k.chaniotis@gmail.com"},"maintainers":[{"name":"j.chaniotis","email":"j.k.chaniotis@gmail.com"}],"dist":{"shasum":"d7442ebc24951c9f02137a77939ce4d592696143","tarball":"http://registry.npmjs.org/evented-async-loop/-/evented-async-loop-0.1.0.tgz"},"directories":{}},"0.1.1":{"name":"evented-async-loop","version":"0.1.1","description":"Loop through asynchronous code with events","main":"index.js","scripts":{"test":"node node_modules/mocha/bin/mocha"},"repository":{"type":"git","url":"https://J-Chaniotis@github.com/J-Chaniotis/evented-async-loop.git"},"keywords":["async","loop","event","control","flow","sequence"],"author":{"name":"J.Chaniotis","email":"j.k.chaniotis@gmail.com"},"license":"ISC","bugs":{"url":"https://github.com/J-Chaniotis/evented-async-loop/issues"},"homepage":"https://github.com/J-Chaniotis/evented-async-loop","dependencies":{},"devDependencies":{"chai":"^1.9.1","mocha":"^1.21.4"},"gitHead":"82e50a22f03e7f10dcb866d65480b4f883f26d68","_id":"evented-async-loop@0.1.1","_shasum":"66bc317c872ba793d45388a3cc2197ad9fde8d1e","_from":".","_npmVersion":"1.4.24","_npmUser":{"name":"j.chaniotis","email":"j.k.chaniotis@gmail.com"},"maintainers":[{"name":"j.chaniotis","email":"j.k.chaniotis@gmail.com"}],"dist":{"shasum":"66bc317c872ba793d45388a3cc2197ad9fde8d1e","tarball":"http://registry.npmjs.org/evented-async-loop/-/evented-async-loop-0.1.1.tgz"},"directories":{}}},"readme":"##evented-async-loop [![Build Status](https://travis-ci.org/J-Chaniotis/evented-async-loop.svg?branch=master)](https://travis-ci.org/J-Chaniotis/evented-async-loop)\n\nLoop through asynchronous code with events\n\n## Installation\n\n`npm install evented-async-loop`\n\n## Usage\n\nCheck `examples` and `test` folders for more details.\n\n**Basic**\n```javascript\n'use strict';\n\nvar asyncLoop = require('../index');\nvar dummyArray = require('./dummyArray');\n\n\n//Make an array of asynchronous functions\nvar arr = dummyArray(10);\n\nvar loop = asyncLoop.create(arr);\n\nloop.on('next', function (elm, i, array) {\n    elm(function() {\n        console.log(i);\n        loop.next();\n    });\n});\n\nloop.on('done', function () {\n    console.log('Done!');\n});\n\nloop.start();\n```\n\n**Chaining**\n```javascript\n//All methods accept .next are chainable\nloop.on('next', function (elm, i, array) {\n    elm(function () {\n        console.log(i);\n        loop.next();\n    });\n}).on('done', function () {\n    console.log('Done!');\n}).start();\n```\n\n**Exit early**\n```javascript\nloop.on('next', function (elm, i, array) {\n    elm(function () {\n        if (i === 5) {\n            // Stop the loop early, you can pass any number of arguments to .done\n            loop.done(i, 'i am Batman');\n        }\n        loop.next();\n    });\n}).on('done', function (i, msg) {\n    console.log('Loop stopped at %s and %s', i, msg);\n}).start();\n```\n\n**Data propagation**\n```javascript\n// loop.start(...).on() is ok too!\nloop.on('next', function (elm, i, array, arg1, arg2) { // extra arguments are appended\n    elm(function () {\n        // pass data to the next iteration\n        loop.next(++arg1, arg2);\n        // after the final iteration tha arguments are passed to 'done'\n    });\n}).on('done', function (arg1, arg2) {\n    console.log('arg1: %s, arg2: %s', arg1, arg2);\n}).start(0, 'blah'); // Pass any number of arguments\n```\n\n**Error handling**\n```javascript\nloop.on('next', function (elm, i, array) {\n    elm(function () {\n        if (i === 3) {\n            // Emitting an error event will not break the loop\n            loop.error('Oh noez!');\n        }\n\n        if (i === 8) {\n            // But if you need to break the loop and emit an error\n            loop.break().error('This will stop the loop');\n            // or, loop.error('This will stop the loop').break();\n            // if you want to emit the error first\n        }\n\n        loop.next();\n    });\n}).on('done', function () {\n    // This wont run\n    console.log('Done!');\n}).on('error', function (err) {\n    console.log(err);\n}).start();\n```\n##API\n###Events\n* <b>`next[element, i, array, arg1, ...]`</b>\n* <b>`done[arg1, ...]`</b>\n* <b>`error[arg1, ...]`</b>   \n\n###Methods\n* <b>`.start([arg1, ...])`:</b> Start the loop.Passes arguments to the first `next` event\n* <b>`.next([arg1, ...])`:</b> Go to the next iteration. Passes agruments to `next` event. If the loop is completed `done` is emitted instead.\n* <b>`.done([arg1, ...])`:</b> Stop the loop early. Passes arguments to `done` event\n* <b>`.error([err])`:</b> Emit an `error` event\n* <b>`.break()`:</b> Break the loop. it wont emit `done`\n\n##Test\nChange your working directory to the project's root, `npm install` to get the development dependencies and then `npm test`","maintainers":[{"name":"j.chaniotis","email":"j.k.chaniotis@gmail.com"}],"time":{"modified":"2014-08-28T18:00:03.170Z","created":"2014-08-28T11:17:24.245Z","0.1.0":"2014-08-28T11:17:24.245Z","0.1.1":"2014-08-28T18:00:03.170Z"},"homepage":"https://github.com/J-Chaniotis/evented-async-loop","keywords":["async","loop","event","control","flow","sequence"],"repository":{"type":"git","url":"https://J-Chaniotis@github.com/J-Chaniotis/evented-async-loop.git"},"author":{"name":"J.Chaniotis","email":"j.k.chaniotis@gmail.com"},"bugs":{"url":"https://github.com/J-Chaniotis/evented-async-loop/issues"},"license":"ISC","readmeFilename":"README.md","_attachments":{},"_etag":"\"9QUUP4CH0KLTINAX37NLLIR99\""}